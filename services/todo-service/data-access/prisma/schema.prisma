generator client {
  provider = "prisma-client-js"
  previewFeatures = ["metrics"]
}

datasource db {
  provider = "postgresql"
  // TODO: Extract the user/pass to env var asap before finalizing the PR
  url      = "postgresql://myuser:mypassword@localhost:54320/todo-db?schema=public"
}


model User {
  id                 Int        @id @default(autoincrement())
  email              String     @unique
  password           String
  todos              Todo[]
  createdAt          DateTime   @default(now())
  updatedAt          DateTime   @updatedAt
}

model Todo {
  id                 Int        @id @default(autoincrement())
  userId             Int
  createdAt          DateTime   @default(now()) @db.Timestamptz(6)
  updatedAt          DateTime   @default(now()) @db.Timestamptz(6)
  user               User       @relation(fields: [userId], references: [id])
  title              String
  status             String
  
  @@map("Todo")
}